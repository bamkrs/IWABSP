angular.module("app.services").factory("spotifyService",function(r,t,e){var n="https://api.spotify.com/v1/";return{request:function(e,s){var u=r.defer(),i;if(s){var c=[];angular.forEach(s,function(r,t){c.push(t+"="+r.split(" ").join("+"))},c),i="?",i+=c.join("&")}return t.get(n+e+i).success(function(r,t,e,n){u.resolve(r)}).error(function(r,t,e,n){u.reject(t)}),u.promise},searchFor:function(r,t){return this.request("search",{q:r,type:t?t:"track",market:"DE",limit:"20"})},loadAlbum:function(r){return this.request("albums/"+r+"/tracks")},loadTrack:function(r){return this.request("tracks/"+r)}}});